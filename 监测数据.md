# dashboard监测数据

此文档记录了后台监测数据，需前后端配合实现。最终的呈现形式为前端在一特定页面路由下从数据库（或缓存？）中获取数据并显示。监测数据的过程实现由后端确定可行性（以下方案可行的把后面的`?`去掉，需要修改的直接在后面补充），可选择前端请求、或者后端记录以及其他专有库或服务器数据显示等方式，每种数据的监测方式明确后在文档上修改明确。

*日/周/月为一般量度，下文中用前缀`t`表示*

1. `t`网站访问次数/人数

        实现：服务器直接看出来

2. 用户人数、活跃用户数（活跃用户可以通过一周内登录超过四次或者发帖大于三次来定义）

        实现：服务器直接看出来

3. `t`商品浏览次数、完成交易次数

        实现：随前端请求一并发送(?)

4. `t`发布商品分类、收藏商品分类、发帖次数

        实现：随前端请求一并发送(?)

5. `t`搜索高频词（能否数据库把所有词记录下来，前端通过外部库分析出词云图之类的图表）

        实现思路：
        新建数据库search_keywords，sql见server/readme
        根据查询路径中的keywords关键字记录搜索词
        请求路径是/api/admin/search-keywords，详见api文档
        前端请求到相应数据可以做出相应处理
        
        问题：怎么解决污染？？？

6. `t`违规人数、违规操作次数

        实现：随前端请求一并发送(?)

7. `t`API调用花费的token数、请求次数

        实现：后端在调用api的时候统计并写入数据库(?)
        
        有无必要立即写入数据库？？？
        当前实现思路：
        使用两个变量记录，记录今日api调用次数和总计调用次数
        
        然后隔一段时间再记录下来？？？
        
        请求路径是/api/admin/stats，详见api文档

8. 每天使用的高峰时段

        实现：服务器直接看出来

9. `t`广告的点击次数、信息列表

        实现：前端点击广告触发计数向后端发送？

10. `t`会员开通情况，会员列表

        实现：前端开通会员时请求后端
